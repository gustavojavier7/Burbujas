<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Liquidation Monitor</title>
  <!-- Fuentes de Google -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-color: #0f172a;
      --card-bg: #1e293b;
      --border-color: #334155;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --color-long: #10b981;
      --color-short: #ef4444;
      --color-accent: #eab308;
      --ticker-duration: 40s;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-main);
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    /* --- TICKER --- */
    .ticker-container {
      width: 100%;
      background-color: var(--card-bg);
      border-bottom: 1px solid var(--border-color);
      padding: 12px 0;
      overflow: hidden;
      white-space: nowrap;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }

    .ticker-content {
      display: inline-flex;
      animation: scroll-left var(--ticker-duration) linear infinite;
      will-change: transform;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.95em;
    }

    @keyframes scroll-left {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(-50%);
      }
    }

    .ticker-item {
      display: inline-block;
      padding: 0 25px;
      border-right: 1px solid var(--border-color);
    }
    .ticker-item:last-child { border-right: none; }
    .ticker-item span { margin-right: 8px; }

    /* Pausar al pasar el mouse */
    .ticker-container:hover .ticker-content {
      animation-play-state: paused;
    }

    /* --- LAYOUT PRINCIPAL --- */
    .dashboard-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 25px;
      width: 95%;
      max-width: 1200px;
      margin-bottom: 40px;
    }

    @media (min-width: 850px) {
      .dashboard-grid {
        grid-template-columns: 1.5fr 1fr;
      }
    }

    /* --- TARJETAS GLOBALES --- */
    .card {
      background-color: var(--card-bg);
      border-radius: 12px;
      border: 1px solid var(--border-color);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      padding: 20px;
      display: flex;
      flex-direction: column;
      transition: border-color 0.5s ease;
    }

    .card-title {
      font-size: 1.1em;
      font-weight: 600;
      color: var(--color-accent);
      margin-top: 0;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border-color);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* --- CAJA DE LIQUIDACIONES --- */
    .liquidation-box {
      height: 450px;
      position: relative;
    }

    .liquidation-header {
      display: flex;
      justify-content: space-between;
      font-size: 0.85em;
      color: var(--text-muted);
      padding-bottom: 10px;
      margin-bottom: 10px;
      border-bottom: 1px solid var(--border-color);
      font-weight: 600;
      text-transform: uppercase;
    }

    .liquidation-header span { flex: 1; }
    .liquidation-header span:nth-child(2) { text-align: center; }
    .liquidation-header span:nth-child(3) { text-align: right; }

    .liquidation-content {
      overflow-y: auto;
      height: calc(100% - 40px);
      display: flex;
      flex-direction: column;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .liquidation-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.03);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.95em;
      animation: slideIn 0.3s ease-out;
    }

    .liquidation-item span { flex: 1; }
    .liquidation-item span:nth-child(2) { text-align: center; }
    .liquidation-item span:nth-child(3) { text-align: right; font-weight: bold; }

    .liquidation-item.huge {
      font-weight: bold;
      font-size: 1.05em;
      background: rgba(234, 179, 8, 0.1);
      border-left: 3px solid var(--color-accent);
      padding-left: 8px;
    }

    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #475569; border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: #64748b; }

    /* --- ESTAD칈STICAS --- */
    .stats-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid var(--border-color);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9em;
    }
    .stats-row:last-child { border-bottom: none; }

    .stats-label { color: var(--text-muted); }
    .stats-value { font-weight: bold; text-align: right; }

    /* --- TOP 3 MONEDAS --- */
    .top-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      margin-bottom: 8px;
      background: rgba(255,255,255,0.03);
      border-radius: 8px;
      border-left: 4px solid var(--color-accent);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85em;
    }

    .top-item div {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .top-item .top-symbol { 
      font-weight: bold; 
      font-size: 1em; 
      color: var(--text-main);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .top-item .top-detail { 
      color: var(--text-muted); 
      font-size: 0.8em;
      white-space: nowrap;
    }

    .long-color { color: var(--color-long) !important; }
    .short-color { color: var(--color-short) !important; }
    .highlight { color: var(--color-accent) !important; font-size: 1.05em; }

  </style>
</head>
<body>

  <!-- TICKER -->
  <div class="ticker-container">
    <div class="ticker-content" id="ticker">
      Cargando datos del mercado...
    </div>
  </div>

  <div class="dashboard-grid">
    <!-- CAJA DE LIQUIDACIONES -->
    <div class="card liquidation-box">
      <div class="card-title">游댮 Liquidaciones en Vivo (Futuros)</div>
      <div class="liquidation-header">
        <span>S칤mbolo</span>
        <span>Precio</span>
        <span>Cantidad</span>
      </div>
      <div class="liquidation-content" id="liquidation-content">
        <!-- JS inyecta aqu칤 -->
      </div>
    </div>

    <!-- COLUMNA DERECHA -->
    <div style="display: flex; flex-direction: column; gap: 25px;">
      
      <!-- ESTAD칈STICAS -->
      <div class="card">
        <div class="card-title">游늵 Estad칤sticas (칔ltimas 100 Liq.)</div>
        <div class="stats-row">
          <span class="stats-label">LONG (Ventas Forzadas):</span>
          <span class="stats-value long-color" id="long-liquidated">$0 (0%)</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">SHORT (Compras Forzadas):</span>
          <span class="stats-value short-color" id="short-liquidated">$0 (0%)</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">Ratio Long/Short:</span>
          <div style="flex: 1; margin: 0 15px;">
            <div style="height: 18px; background: rgba(255,255,255,0.05); border-radius: 9px; overflow: hidden; border: 1px solid var(--border-color);">
              <div id="ratio-bar" style="height: 100%; width: 50%; background: linear-gradient(90deg, var(--color-long), var(--color-short)); transition: width 1s ease;"></div>
            </div>
          </div>
          <span class="stats-value highlight" id="ratio-ls">0.00</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">Promedio por Liq.:</span>
          <span class="stats-value" id="avg-liquidation">$0</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">Umbral "Huge" (150%):</span>
          <span class="stats-value" id="huge-threshold" style="color: var(--color-accent);">$50k (calibrando...)</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">Liq. M치s Grande:</span>
          <span class="stats-value highlight" id="largest-liquidation">-</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">Total Eventos:</span>
          <span class="stats-value" id="total-count">0</span>
        </div>
      </div>

      <!-- TOP 3 -->
      <div class="card" id="top-liquidated-container">
        <div class="card-title">游댠 Top 3 M치s Liquidadas</div>
        <div id="top-liquidated-content">
          <span style="color: var(--text-muted); font-size: 0.9em;">Esperando datos...</span>
        </div>
      </div>

    </div>
  </div>

  <script>
    const TICKER_24HR_URL = "https://api.binance.com/api/v3/ticker/24hr";
    const SPOT_TICKER_URL = "https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT";
    const FUTURES_TICKER_URL = "https://fapi.binance.com/fapi/v1/ticker/price?symbol=BTCUSDT";
    const INDEX_PRICE_URL = "https://fapi.binance.com/fapi/v1/premiumIndex?symbol=BTCUSDT";
    const MAX_LIQUIDATIONS = 50;
    const MAX_LIQUIDATIONS_MEMORY = 100;
    const TICKER_ANIMATION_DURATION = 40000; // 40 segundos (fallback)

    let tickerContent = document.getElementById("ticker");
    let liquidations = [];
    let liquidationFrequency = {};
    let longTotal = 0;
    let shortTotal = 0;
    let largestLiquidation = { amount: 0, symbol: '', side: '' };
    let liquidationValues = [];
    let latestTop3Snapshot = [];
    let tickerTop3Snapshot = [];
    let tickerUpdatePending = false;
    let pendingTickerSnapshot = null;

    function calculateAverageLiquidation() {
      if (liquidationValues.length === 0) return 0;
      const sum = liquidationValues.reduce((acc, val) => acc + val, 0);
      return sum / liquidationValues.length;
    }

    function isHugeLiquidation(value) {
      const average = calculateAverageLiquidation();
      if (liquidationValues.length < 10) {
        return value > 50000;
      }
      return value > (average * 1.5);
    }

    function hasTop3Changed() {
      const currentTop3 = latestTop3Snapshot.join(',');
      const previousTop3 = tickerTop3Snapshot.join(',');

      if (currentTop3 !== previousTop3) {
        return true;
      }
      return false;
    }

    function getTickerDurationMs() {
      const durationValue = getComputedStyle(document.documentElement)
        .getPropertyValue('--ticker-duration')
        .trim();

      if (!durationValue) {
        return TICKER_ANIMATION_DURATION;
      }

      if (durationValue.endsWith('ms')) {
        const value = parseFloat(durationValue);
        return Number.isFinite(value) ? value : TICKER_ANIMATION_DURATION;
      }

      if (durationValue.endsWith('s')) {
        const value = parseFloat(durationValue);
        return Number.isFinite(value) ? value * 1000 : TICKER_ANIMATION_DURATION;
      }

      const value = parseFloat(durationValue);
      return Number.isFinite(value) ? value * 1000 : TICKER_ANIMATION_DURATION;
    }

    async function fetchTickerData() {
      try {
        const [tickerResponse, spotResponse, futuresResponse, indexResponse] = await Promise.all([
          fetch(TICKER_24HR_URL),
          fetch(SPOT_TICKER_URL),
          fetch(FUTURES_TICKER_URL),
          fetch(INDEX_PRICE_URL)
        ]);

        const tickerData = await tickerResponse.json();
        const spotData = await spotResponse.json();
        const futuresData = await futuresResponse.json();
        const indexData = await indexResponse.json();

        pendingTickerSnapshot = buildTickerSnapshot(
          {
            ticker24Hr: tickerData,
            spot: spotData,
            futures: futuresData,
            index: indexData
          },
          latestTop3Snapshot
        );
        
        tickerUpdatePending = true;

      } catch (error) {
        console.error("Error al obtener los datos del ticker:", error);
      }
    }

    async function updateTickerDOM() {
      if (!tickerUpdatePending || !pendingTickerSnapshot) return;

      const newItems = pendingTickerSnapshot.map(data => (
        createTickerItem(data.label, data.price, data.change, data.color)
      ));

      const clonedItems = newItems.map(item => item.cloneNode(true));

      const allItems = [...newItems, ...clonedItems];

      tickerContent.innerHTML = '';
      allItems.forEach(item => tickerContent.appendChild(item));

      // Reiniciar animaci칩n suavemente
      tickerContent.style.animation = 'none';
      tickerContent.offsetHeight;

      const durationMs = getTickerDurationMs();
      const safeDurationMs = durationMs > 0 ? durationMs : TICKER_ANIMATION_DURATION;
      const elapsed = performance.now() % safeDurationMs;
      const remaining = safeDurationMs - elapsed;

      tickerContent.style.animation = `scroll-left ${remaining / 1000}s linear infinite`;

      tickerTop3Snapshot = pendingTickerSnapshot
        .filter(item => item.type === 'top3')
        .map(item => item.symbol);
      tickerUpdatePending = false;
      pendingTickerSnapshot = null;
    }

    tickerContent.addEventListener('animationiteration', () => {
      if (getComputedStyle(tickerContent).animationPlayState === 'paused') return;
      if (tickerUpdatePending) updateTickerDOM();
    });

    function buildTickerSnapshot(tickerData, top3Snapshot = []) {
      const { ticker24Hr, spot, futures, index } = tickerData;
      const snapshotItems = [];

      const prices = [
        { label: 'SPOT BTC', price: parseFloat(spot.price).toFixed(2) },
        { label: 'FUTURES BTC', price: parseFloat(futures.price).toFixed(2) },
        { label: 'INDEX PRICE', price: parseFloat(index.markPrice).toFixed(2) }
      ];

      prices.forEach(item => {
        snapshotItems.push({
          label: item.label,
          price: `$${item.price}`,
          change: undefined,
          color: 'var(--text-main)'
        });
      });

      const topLiquidated = top3Snapshot.length > 0
        ? top3Snapshot
        : Object.keys(liquidationFrequency)
          .sort((a, b) => liquidationFrequency[b].count - liquidationFrequency[a].count)
          .slice(0, 3);

      snapshotItems.push({
        label: "游댠 TOP LIQ",
        price: undefined,
        change: undefined,
        color: "var(--color-accent)"
      });

      if(topLiquidated.length === 0) {
         snapshotItems.push({
          label: "Recolectando datos...",
          price: "",
          change: undefined,
          color: undefined
         });
         return snapshotItems;
      }

      topLiquidated.forEach(symbol => {
        const pairData = ticker24Hr.find(data => data.symbol === symbol);
        if (pairData) {
          const price = parseFloat(pairData.lastPrice).toFixed(2);
          const change = parseFloat(pairData.priceChangePercent).toFixed(2);
          const changeColor = change >= 0 ? 'var(--color-long)' : 'var(--color-short)';
          const changeStr = change >= 0 ? `+${change}%` : `${change}%`;

          snapshotItems.push({
            type: 'top3',
            symbol,
            label: symbol,
            price: `$${price}`,
            change: changeStr,
            color: changeColor
          });
        }
      });

      return snapshotItems;
    }

    function createTickerItem(label, price, change, color) {
      const tickerItem = document.createElement('div');
      tickerItem.className = 'ticker-item';
      
      const labelSpan = document.createElement('span');
      labelSpan.textContent = label;
      labelSpan.style.color = "var(--text-muted)";
      tickerItem.appendChild(labelSpan);

      if (price !== undefined) {
        const priceSpan = document.createElement('span');
        priceSpan.textContent = price;
        priceSpan.style.color = "var(--text-main)";
        tickerItem.appendChild(priceSpan);
      }

      if (change !== undefined) {
        const changeSpan = document.createElement('span');
        changeSpan.textContent = change;
        changeSpan.style.color = color;
        tickerItem.appendChild(changeSpan);
      } else if (color && !change && !price) {
        labelSpan.style.color = color;
      }

      return tickerItem;
    }

    function connectLiquidationWebSocket() {
      const liquidationContent = document.getElementById('liquidation-content');
      const ws = new WebSocket('wss://fstream.binance.com/ws/!forceOrder@arr');

      ws.onmessage = function(event) {
        const data = JSON.parse(event.data);
        const liquidation = data.o;

        if (liquidation) {
          const price = parseFloat(liquidation.p);
          const quantity = parseFloat(liquidation.q);
          
          if (isNaN(price) || isNaN(quantity)) {
            console.error("Valores inv치lidos:", liquidation);
            return;
          }

          const newLiquidation = {
            symbol: liquidation.s,
            price: price,
            quantity: quantity,
            side: liquidation.S
          };

          liquidations.unshift(newLiquidation);

          if (liquidations.length > MAX_LIQUIDATIONS_MEMORY) {
            liquidations.pop();
          }

          const liqValue = price * quantity;
          
          liquidationValues.push(liqValue);
          
          if (liquidationValues.length > MAX_LIQUIDATIONS_MEMORY) {
            liquidationValues.shift();
          }

          liquidationFrequency = {};
          liquidations.forEach(liq => {
            if (!liquidationFrequency[liq.symbol]) {
              liquidationFrequency[liq.symbol] = { count: 0, total: 0 };
            }
            liquidationFrequency[liq.symbol].count++;
            liquidationFrequency[liq.symbol].total += liq.price;
          });

          longTotal = 0;
          shortTotal = 0;
          largestLiquidation = { amount: 0, symbol: '', side: '' };

          liquidations.forEach(liq => {
            const liqVal = liq.price * liq.quantity;
            
            if (liq.side === 'SELL') { 
              longTotal += liqVal; 
            } else { 
              shortTotal += liqVal; 
            }

            if (liqVal > largestLiquidation.amount) {
              largestLiquidation = { 
                amount: liqVal, 
                symbol: liq.symbol, 
                side: liq.side 
              };
            }
          });

          updateStatsPanel();
          showTopLiquidatedCoins();

          if (hasTop3Changed()) {
            fetchTickerData();
          }

          if (isHugeLiquidation(liqValue)) {
            const audio = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-alert-quick-chime-766.mp3');
            audio.volume = 0.2;
            audio.play().catch(() => {});
            
            const liqBox = document.querySelector('.liquidation-box');
            const borderColor = liquidation.S === 'SELL' ? 'var(--color-long)' : 'var(--color-short)';
            liqBox.style.borderColor = borderColor;
            setTimeout(() => liqBox.style.borderColor = 'var(--border-color)', 500);
          }

          const item = document.createElement('div');
          item.className = 'liquidation-item';

          if (isHugeLiquidation(liqValue)) {
            item.classList.add('huge');
          }

          const symbolSpan = document.createElement('span');
          symbolSpan.textContent = liquidation.s;

          const priceSpan = document.createElement('span');
          priceSpan.textContent = `$${price.toFixed(2)}`;

          const quantitySpan = document.createElement('span');
          const totalValue = (liqValue / 1000).toFixed(1);
          quantitySpan.textContent = `${quantity.toFixed(2)} ($${totalValue}k)`;

          const liquidationColor = liquidation.S === 'SELL' ? 'var(--color-long)' : 'var(--color-short)';
          item.style.color = liquidationColor;

          item.appendChild(symbolSpan);
          item.appendChild(priceSpan);
          item.appendChild(quantitySpan);

          liquidationContent.prepend(item);

          if (liquidationContent.children.length > MAX_LIQUIDATIONS) {
            liquidationContent.removeChild(liquidationContent.lastChild);
          }
        }
      };

      ws.onclose = function() {
        console.error("Conexi칩n de WebSocket cerrada, reconectando en 1s...");
        setTimeout(connectLiquidationWebSocket, 1000);
      };

      ws.onerror = function(error) {
        console.error("Error en WebSocket:", error);
      };
    }

    function showTopLiquidatedCoins() {
      const topLiquidated = Object.entries(liquidationFrequency)
        .sort((a, b) => b[1].count - a[1].count)
        .slice(0, 3);

      latestTop3Snapshot = topLiquidated.map(([symbol]) => symbol);

      const topContent = document.getElementById('top-liquidated-content');
      topContent.innerHTML = '';

      if (topLiquidated.length === 0) {
        topContent.innerHTML = '<span style="color: var(--text-muted); font-size: 0.9em;">Esperando datos...</span>';
        return;
      }

      topLiquidated.forEach(([symbol, data], index) => {
        const item = document.createElement('div');
        item.className = 'top-item';

        const leftDiv = document.createElement('div');
        leftDiv.style.flex = '1';
        leftDiv.style.minWidth = '0';
        
        const symbolSpan = document.createElement('span');
        symbolSpan.className = 'top-symbol';
        symbolSpan.textContent = `${index + 1}. ${symbol}`;
        
        const countSpan = document.createElement('span');
        countSpan.className = 'top-detail';
        countSpan.textContent = `${data.count} liq.`;
        
        leftDiv.appendChild(symbolSpan);
        leftDiv.appendChild(countSpan);

        const rightDiv = document.createElement('div');
        rightDiv.style.alignItems = 'flex-end';
        rightDiv.style.textAlign = 'right';
        rightDiv.style.minWidth = 'fit-content';
        
        const averagePrice = (data.total / data.count).toFixed(2);
        const avgPriceSpan = document.createElement('span');
        avgPriceSpan.style.fontFamily = "'JetBrains Mono', monospace";
        avgPriceSpan.style.fontSize = '0.95em';
        avgPriceSpan.style.fontWeight = 'bold';
        avgPriceSpan.textContent = `$${averagePrice}`;
        
        const avgLabel = document.createElement('span');
        avgLabel.className = 'top-detail';
        avgLabel.textContent = 'prom.';
        
        rightDiv.appendChild(avgPriceSpan);
        rightDiv.appendChild(avgLabel);

        item.appendChild(leftDiv);
        item.appendChild(rightDiv);

        topContent.appendChild(item);
      });
    }

    function updateStatsPanel() {
      const total = longTotal + shortTotal;
      const longPercent = total > 0 ? ((longTotal / total) * 100).toFixed(1) : 0;
      const shortPercent = total > 0 ? ((shortTotal / total) * 100).toFixed(1) : 0;
      const ratio = shortTotal > 0 ? (longTotal / shortTotal).toFixed(2) : '0.00';
      const avgLiquidation = liquidations.length > 0 ? ((longTotal + shortTotal) / liquidations.length).toFixed(0) : 0;

      document.getElementById('long-liquidated').textContent = `$${(longTotal / 1000).toFixed(1)}k (${longPercent}%)`;
      document.getElementById('short-liquidated').textContent = `$${(shortTotal / 1000).toFixed(1)}k (${shortPercent}%)`;
      document.getElementById('ratio-ls').textContent = ratio;
      document.getElementById('avg-liquidation').textContent = `$${Number(avgLiquidation).toLocaleString()}`;
      
      const largestText = largestLiquidation.amount > 0 
        ? `$${(largestLiquidation.amount / 1000).toFixed(1)}k ${largestLiquidation.symbol}` 
        : '-';
      
      const largestElement = document.getElementById('largest-liquidation');
      largestElement.textContent = largestText;
      
      let classes = 'stats-value highlight';
      if (largestLiquidation.amount > 0) {
        classes += largestLiquidation.side === 'SELL' ? ' long-color' : ' short-color';
      }
      largestElement.className = classes;

      document.getElementById('total-count').textContent = liquidations.length;
      
      const average = calculateAverageLiquidation();
      const threshold = average * 1.5;
      const thresholdElement = document.getElementById('huge-threshold');
      
      if (thresholdElement) {
        if (liquidationValues.length >= 10 && !isNaN(threshold) && threshold > 0) {
          thresholdElement.textContent = `$${(threshold / 1000).toFixed(1)}k`;
        } else {
          thresholdElement.textContent = '$50k (calibrando...)';
        }
      }
      
      const ratioBar = document.getElementById('ratio-bar');
      if (ratioBar) {
        const ratioPercent = total > 0 ? (longTotal / total * 100) : 50;
        ratioBar.style.width = ratioPercent + '%';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      fetchTickerData().then(() => updateTickerDOM());
      setInterval(fetchTickerData, 60000);
      connectLiquidationWebSocket();
    });
  </script>
</body>
</html>
